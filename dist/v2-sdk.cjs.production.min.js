"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e,n=t(require("jsbi")),r=require("@ethersproject/address"),o=require("@ethersproject/solidity"),i=require("@uniswap/sdk-core"),u=t(require("tiny-invariant"));(e=exports.ChainId||(exports.ChainId={}))[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.OPTIMISM_SEPOLIA=11155420]="OPTIMISM_SEPOLIA",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE",e[e.BASE_GOERLI=84531]="BASE_GOERLI",e[e.BASE=8453]="BASE",e[e.ZORA=7777777]="ZORA",e[e.ZORA_SEPOLIA=999999999]="ZORA_SEPOLIA",e[e.ROOTSTOCK=30]="ROOTSTOCK",e[e.BLAST=81457]="BLAST",e[e.BEVM=11501]="BEVM",e[e.BEVM_CANARY_TESTNET=1502]="BEVM_CANARY_TESTNET",e[e.BITLAYER_TESTNET=200810]="BITLAYER_TESTNET";var a,s,c,p,d=[exports.ChainId.MAINNET,exports.ChainId.OPTIMISM,exports.ChainId.OPTIMISM_GOERLI,exports.ChainId.OPTIMISM_SEPOLIA,exports.ChainId.ARBITRUM_ONE,exports.ChainId.ARBITRUM_GOERLI,exports.ChainId.ARBITRUM_SEPOLIA,exports.ChainId.POLYGON,exports.ChainId.POLYGON_MUMBAI,exports.ChainId.GOERLI,exports.ChainId.SEPOLIA,exports.ChainId.CELO_ALFAJORES,exports.ChainId.CELO,exports.ChainId.BNB,exports.ChainId.AVALANCHE,exports.ChainId.BASE,exports.ChainId.BASE_GOERLI,exports.ChainId.ZORA,exports.ChainId.ZORA_SEPOLIA,exports.ChainId.ROOTSTOCK,exports.ChainId.BLAST,exports.ChainId.BEVM,exports.ChainId.BEVM_CANARY_TESTNET,exports.ChainId.BITLAYER_TESTNET];(a=exports.NativeCurrencyName||(exports.NativeCurrencyName={})).ETHER="ETH",a.MATIC="MATIC",a.CELO="CELO",a.GNOSIS="XDAI",a.MOONBEAM="GLMR",a.BNB="BNB",a.AVAX="AVAX",a.ROOTSTOCK="RBTC",a.BTC="BTC";var h=((s={})[exports.ChainId.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",s[exports.ChainId.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",s[exports.ChainId.SEPOLIA]="0xB7f907f7A9eBC822a80BD25E224be42Ce0A698A0",s[exports.ChainId.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",s[exports.ChainId.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",s[exports.ChainId.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",s[exports.ChainId.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",s[exports.ChainId.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",s[exports.ChainId.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",s[exports.ChainId.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",s[exports.ChainId.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",s[exports.ChainId.BEVM]="0xAdEFa8CFD0655e319559c482c1443Cc6fa804C1F",s[exports.ChainId.BEVM_CANARY_TESTNET]="0x1045D426488B359592864D3BDC3a64ebEBcDdf96",s[exports.ChainId.BITLAYER_TESTNET]="0x57e0e352a82928a28ce453d9a9fa005a9922aa49",s),l="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",A=((c={})[exports.ChainId.BEVM]="0xa1d96c4e569a8fba6c4ad8d633250547339e9fb98e185d256480ed16c528c9e2",c[exports.ChainId.BEVM_CANARY_TESTNET]="0xa1d96c4e569a8fba6c4ad8d633250547339e9fb98e185d256480ed16c528c9e2",c[exports.ChainId.BITLAYER_TESTNET]="0xa1d96c4e569a8fba6c4ad8d633250547339e9fb98e185d256480ed16c528c9e2",c),f=n.BigInt(1e3),T=n.BigInt(9970),m=((p={})[exports.ChainId.BEVM]=n.BigInt(9960),p[exports.ChainId.BEVM_CANARY_TESTNET]=n.BigInt(9960),p[exports.ChainId.BITLAYER_TESTNET]=n.BigInt(9960),p),I=n.BigInt(0),E=n.BigInt(1),y=n.BigInt(5),v=n.BigInt(1e4);function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function R(t,e,n){return(R=k()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&q(o,n.prototype),o}).apply(null,arguments)}function _(t){var e="function"==typeof Map?new Map:void 0;return(_=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,B(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),q(n,t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var N="setPrototypeOf"in Object,b=function(t){function e(){var n;return(n=t.call(this)||this).isInsufficientReservesError=!0,n.name=n.constructor.name,N&&Object.setPrototypeOf(S(n),(this instanceof e?this.constructor:void 0).prototype),n}return x(e,t),e}(_(Error)),M=function(t){function e(){var n;return(n=t.call(this)||this).isInsufficientInputAmountError=!0,n.name=n.constructor.name,N&&Object.setPrototypeOf(S(n),(this instanceof e?this.constructor:void 0).prototype),n}return x(e,t),e}(_(Error)),w=function(t){var e,n=t.factoryAddress,i=t.tokenA,u=t.tokenB,a=i.sortsBefore(u)?[i,u]:[u,i],s=null!=(e=A[i.chainId])?e:l;return r.getCreate2Address(n,o.keccak256(["bytes"],[o.pack(["address","address"],[a[0].address,a[1].address])]),s)},L=function(){function t(e,n){var r=e.currency.sortsBefore(n.currency)?[e,n]:[n,e];this.liquidityToken=new i.Token(r[0].currency.chainId,t.getAddress(r[0].currency,r[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=r}t.getAddress=function(t,e){var n,r=null!=(n=h[t.chainId])?n:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f";return w({factoryAddress:r,tokenA:t,tokenB:e})};var e=t.prototype;return e.involvesToken=function(t){return t.equals(this.token0)||t.equals(this.token1)},e.priceOf=function(t){return this.involvesToken(t)||u(!1),t.equals(this.token0)?this.token0Price:this.token1Price},e.reserveOf=function(t){return this.involvesToken(t)||u(!1),t.equals(this.token0)?this.reserve0:this.reserve1},e.getOutputAmount=function(e){var r;if(this.involvesToken(e.currency)||u(!1),n.equal(this.reserve0.quotient,I)||n.equal(this.reserve1.quotient,I))throw new b;var o=this.reserveOf(e.currency),a=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),s=n.multiply(e.quotient,null!=(r=m[e.currency.chainId])?r:T),c=n.multiply(s,a.quotient),p=n.add(n.multiply(o.quotient,v),s),d=i.CurrencyAmount.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,n.divide(c,p));if(n.equal(d.quotient,I))throw new M;return[d,new t(o.add(e),a.subtract(d))]},e.getInputAmount=function(e){var r;if(this.involvesToken(e.currency)||u(!1),n.equal(this.reserve0.quotient,I)||n.equal(this.reserve1.quotient,I)||n.greaterThanOrEqual(e.quotient,this.reserveOf(e.currency).quotient))throw new b;var o=this.reserveOf(e.currency),a=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),s=n.multiply(n.multiply(a.quotient,e.quotient),v),c=n.multiply(n.subtract(o.quotient,e.quotient),null!=(r=m[e.currency.chainId])?r:T),p=i.CurrencyAmount.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,n.add(n.divide(s,c),E));return[p,new t(a.add(p),o.subtract(e))]},e.getLiquidityMinted=function(t,e,r){t.currency.equals(this.liquidityToken)||u(!1);var o,a=e.currency.sortsBefore(r.currency)?[e,r]:[r,e];if(a[0].currency.equals(this.token0)&&a[1].currency.equals(this.token1)||u(!1),n.equal(t.quotient,I))o=n.subtract(i.sqrt(n.multiply(a[0].quotient,a[1].quotient)),f);else{var s=n.divide(n.multiply(a[0].quotient,t.quotient),this.reserve0.quotient),c=n.divide(n.multiply(a[1].quotient,t.quotient),this.reserve1.quotient);o=n.lessThanOrEqual(s,c)?s:c}if(!n.greaterThan(o,I))throw new M;return i.CurrencyAmount.fromRawAmount(this.liquidityToken,o)},e.getLiquidityValue=function(t,e,r,o,a){var s;if(void 0===o&&(o=!1),this.involvesToken(t)||u(!1),e.currency.equals(this.liquidityToken)||u(!1),r.currency.equals(this.liquidityToken)||u(!1),n.lessThanOrEqual(r.quotient,e.quotient)||u(!1),o){a||u(!1);var c=n.BigInt(a);if(n.equal(c,I))s=e;else{var p=i.sqrt(n.multiply(this.reserve0.quotient,this.reserve1.quotient)),d=i.sqrt(c);if(n.greaterThan(p,d)){var h=n.multiply(e.quotient,n.subtract(p,d)),l=n.add(n.multiply(p,y),d),A=n.divide(h,l);s=e.add(i.CurrencyAmount.fromRawAmount(this.liquidityToken,A))}else s=e}}else s=e;return i.CurrencyAmount.fromRawAmount(t,n.divide(n.multiply(r.quotient,this.reserveOf(t).quotient),s.quotient))},C(t,[{key:"token0Price",get:function(){var t=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new i.Price(this.token0,this.token1,t.denominator,t.numerator)}},{key:"token1Price",get:function(){var t=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new i.Price(this.token1,this.token0,t.denominator,t.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}]),t}(),F=function(){function t(t,e,n){this._midPrice=null,t.length>0||u(!1);var r=t[0].chainId;t.every((function(t){return t.chainId===r}))||u(!1);var o=e.wrapped;t[0].involvesToken(o)||u(!1),void 0===n||t[t.length-1].involvesToken(n.wrapped)||u(!1);for(var i,a=[o],s=P(t.entries());!(i=s()).done;){var c=i.value,p=c[1],d=a[c[0]];d.equals(p.token0)||d.equals(p.token1)||u(!1);var h=d.equals(p.token0)?p.token1:p.token0;a.push(h)}this.pairs=t,this.path=a,this.input=e,this.output=n}return C(t,[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;for(var t,e=[],n=P(this.pairs.entries());!(t=n()).done;){var r=t.value,o=r[1];e.push(this.path[r[0]].equals(o.token0)?new i.Price(o.reserve0.currency,o.reserve1.currency,o.reserve0.quotient,o.reserve1.quotient):new i.Price(o.reserve1.currency,o.reserve0.currency,o.reserve1.quotient,o.reserve0.quotient))}var u=e.slice(1).reduce((function(t,e){return t.multiply(e)}),e[0]);return this._midPrice=new i.Price(this.input,this.output,u.denominator,u.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]),t}();function U(t,e){return t.inputAmount.currency.equals(e.inputAmount.currency)||u(!1),t.outputAmount.currency.equals(e.outputAmount.currency)||u(!1),t.outputAmount.equalTo(e.outputAmount)?t.inputAmount.equalTo(e.inputAmount)?0:t.inputAmount.lessThan(e.inputAmount)?-1:1:t.outputAmount.lessThan(e.outputAmount)?1:-1}function D(t,e){var n=U(t,e);return 0!==n?n:t.priceImpact.lessThan(e.priceImpact)?-1:t.priceImpact.greaterThan(e.priceImpact)?1:t.route.path.length-e.route.path.length}var G=function(){function t(t,e,n){this.route=t,this.tradeType=n;var r=new Array(t.path.length);if(n===i.TradeType.EXACT_INPUT){e.currency.equals(t.input)||u(!1),r[0]=e.wrapped;for(var o=0;o<t.path.length-1;o++){var a=t.pairs[o].getOutputAmount(r[o]);r[o+1]=a[0]}this.inputAmount=i.CurrencyAmount.fromFractionalAmount(t.input,e.numerator,e.denominator),this.outputAmount=i.CurrencyAmount.fromFractionalAmount(t.output,r[r.length-1].numerator,r[r.length-1].denominator)}else{e.currency.equals(t.output)||u(!1),r[r.length-1]=e.wrapped;for(var s=t.path.length-1;s>0;s--){var c=t.pairs[s-1].getInputAmount(r[s]);r[s-1]=c[0]}this.inputAmount=i.CurrencyAmount.fromFractionalAmount(t.input,r[0].numerator,r[0].denominator),this.outputAmount=i.CurrencyAmount.fromFractionalAmount(t.output,e.numerator,e.denominator)}this.executionPrice=new i.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=i.computePriceImpact(t.midPrice,this.inputAmount,this.outputAmount)}t.exactIn=function(e,n){return new t(e,n,i.TradeType.EXACT_INPUT)},t.exactOut=function(e,n){return new t(e,n,i.TradeType.EXACT_OUTPUT)};var e=t.prototype;return e.minimumAmountOut=function(t){if(t.lessThan(I)&&u(!1),this.tradeType===i.TradeType.EXACT_OUTPUT)return this.outputAmount;var e=new i.Fraction(E).add(t).invert().multiply(this.outputAmount.quotient).quotient;return i.CurrencyAmount.fromRawAmount(this.outputAmount.currency,e)},e.maximumAmountIn=function(t){if(t.lessThan(I)&&u(!1),this.tradeType===i.TradeType.EXACT_INPUT)return this.inputAmount;var e=new i.Fraction(E).add(t).multiply(this.inputAmount.quotient).quotient;return i.CurrencyAmount.fromRawAmount(this.inputAmount.currency,e)},t.bestTradeExactIn=function(e,n,r,o,a,s,c){var p=void 0===o?{}:o,d=p.maxNumResults,h=void 0===d?3:d,l=p.maxHops,A=void 0===l?3:l;void 0===a&&(a=[]),void 0===s&&(s=n),void 0===c&&(c=[]),e.length>0||u(!1),A>0||u(!1),n===s||a.length>0||u(!1);for(var f=s.wrapped,T=r.wrapped,m=0;m<e.length;m++){var E=e[m];if((E.token0.equals(f.currency)||E.token1.equals(f.currency))&&!E.reserve0.equalTo(I)&&!E.reserve1.equalTo(I)){var y=void 0;try{y=E.getOutputAmount(f)[0]}catch(t){if(t.isInsufficientInputAmountError)continue;throw t}if(y.currency.equals(T))i.sortedInsert(c,new t(new F([].concat(a,[E]),n.currency,r),n,i.TradeType.EXACT_INPUT),h,D);else if(A>1&&e.length>1){var v=e.slice(0,m).concat(e.slice(m+1,e.length));t.bestTradeExactIn(v,n,r,{maxNumResults:h,maxHops:A-1},[].concat(a,[E]),y,c)}}}return c},e.worstExecutionPrice=function(t){return new i.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)},t.bestTradeExactOut=function(e,n,r,o,a,s,c){var p=void 0===o?{}:o,d=p.maxNumResults,h=void 0===d?3:d,l=p.maxHops,A=void 0===l?3:l;void 0===a&&(a=[]),void 0===s&&(s=r),void 0===c&&(c=[]),e.length>0||u(!1),A>0||u(!1),r===s||a.length>0||u(!1);for(var f=s.wrapped,T=n.wrapped,m=0;m<e.length;m++){var E=e[m];if((E.token0.equals(f.currency)||E.token1.equals(f.currency))&&!E.reserve0.equalTo(I)&&!E.reserve1.equalTo(I)){var y=void 0;try{y=E.getInputAmount(f)[0]}catch(t){if(t.isInsufficientReservesError)continue;throw t}if(y.currency.equals(T))i.sortedInsert(c,new t(new F([E].concat(a),n,r.currency),r,i.TradeType.EXACT_OUTPUT),h,D);else if(A>1&&e.length>1){var v=e.slice(0,m).concat(e.slice(m+1,e.length));t.bestTradeExactOut(v,n,r,{maxNumResults:h,maxHops:A-1},[E].concat(a),y,c)}}}return c},t}();function Y(t){return"0x"+t.quotient.toString(16)}var H=function(){function t(){}return t.swapCallParameters=function(t,e){var n=t.inputAmount.currency.isNative,r=t.outputAmount.currency.isNative;n&&r&&u(!1),!("ttl"in e)||e.ttl>0||u(!1);var o,a,s,c=i.validateAndParseAddress(e.recipient),p=Y(t.maximumAmountIn(e.allowedSlippage)),d=Y(t.minimumAmountOut(e.allowedSlippage)),h=t.route.path.map((function(t){return t.address})),l="ttl"in e?"0x"+(Math.floor((new Date).getTime()/1e3)+e.ttl).toString(16):"0x"+e.deadline.toString(16),A=Boolean(e.feeOnTransfer);switch(t.tradeType){case i.TradeType.EXACT_INPUT:n?(o=A?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",a=[d,h,c,l],s=p):r?(o=A?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",a=[p,d,h,c,l],s="0x0"):(o=A?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",a=[p,d,h,c,l],s="0x0");break;case i.TradeType.EXACT_OUTPUT:A&&u(!1),n?(o="swapETHForExactTokens",a=[d,h,c,l],s=p):r?(o="swapTokensForExactETH",a=[d,p,h,c,l],s="0x0"):(o="swapTokensForExactTokens",a=[d,p,h,c,l],s="0x0")}return{methodName:o,args:a,value:s}},t}();exports.FACTORY_ADDRESS="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",exports.FACTORY_ADDRESS_MAP=h,exports.INIT_CODE_HASH=l,exports.INIT_CODE_HASH_MAP=A,exports.InsufficientInputAmountError=M,exports.InsufficientReservesError=b,exports.MINIMUM_LIQUIDITY=f,exports.Pair=L,exports.Route=F,exports.Router=H,exports.SUPPORTED_CHAINS=d,exports.TRADE_FEE=T,exports.TRADE_FEE_MAP=m,exports.Trade=G,exports.computePairAddress=w,exports.inputOutputComparator=U,exports.tradeComparator=D;
//# sourceMappingURL=v2-sdk.cjs.production.min.js.map
